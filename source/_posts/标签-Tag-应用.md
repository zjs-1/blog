---
layout: title
title: 标签(Tag)应用
date: 2018-07-23 16:40:19
tags: [技术文档]
categories: 技术
toc: true
---
| Time | Version | Intro | Author | 
| :-: | :-: | :-: | :-: |
| 18-07-23 | v0.1 | 草稿版 | 千 | 

## 运营活动标签

### 背景

运营做运营活动时，需要给目标用户做推送，目标用户可能是参加过某些历史活动或者购买过某个课程的用户。

Q1: **为什么不直接通过选择活动用户直接推送？后台已经有对应的入口了。**

A1: 因为标签可以从多个维度来标识用户，目前仅仅是从购课维度、活动参与维度来做标识，随着维度的增加，推送后台所需要涉及的领域知识就会越来越多，最终变得复杂难以维护。比如根据课程推送就需要拥有购课方面的领域知识。

Q2: **目前活动管理后台已经有标签相关内容了，使用的是微信公众号标签，为什么不直接使用微信标签呢？**

A2: 微信标签有很多限制，标签数量限制、用户标签数限制。最重要的是，微信标签跟公众号相关，如果要做其他用途比如APP推送就不是很方便了。

### 名词解释

#### 标签分组

用于区分不同使用场景下的标签，在运营活动管理中，使用的标签分组为**`code=activity`**

#### 标签类型

可拥有该标签的实体类型，在运营活动管理中，标签是打给用户的，因此标签类型为**`type=user`**

### 功能需求

仅包含运营活动中与标签相关内容

#### ~~标签管理~~ (这部分内容放置于官网后台标签管理处添加)

- **~~新建运营标签~~**: 在`活动分组`下新建`用户类型`标签。

- **~~编辑运营标签~~**

- **~~删除运营标签~~**

#### 运营活动标签管理

- **给运营活动绑定标签**: 从`活动分组`中选出所有`用户类型`的标签，给运营活动绑定对应标签。

- **给已参加运营活动的用户批量打上标签**

- **运营活动绑定标签修改(包括增加和删除)**: 可以更改某个运营活动所绑定的标签，这里会有两种实现。
    - 一种是修改标签不影响已经参与活动的学员。(实现起来比较简单，不容易出错)
    - 另一种是修改标签的同时，对参与活动的用户标签做对应修改。(成本较高，需要做评估)

#### 活动标签应用流程

- **用户参加活动打上对应标签**: 当用户参加某个活动时，为用户打上活动所绑定的标签。

- **推送时可选择标签进行推送**: 推送时可选择按标签推送，暂时只有`活动分组`下的标签，后面可能会增加`课程分组`等标签分组下的标签。

### 特别注意点:

- 参加活动并不会注册用户，如果没有用户将不能打上用户标签

### 所需标签接口

- 标签管理
    - 新建标签
    - 获取标签列表
    - 修改标签信息
    - 删除标签
    
- 标签关联管理
    - 对多个主体同时打上多个标签
    - 获取多个标签(并集关系)所关联内容 

## 购课标签

### 背景

与运营活动标签类似

### 名词解释

#### 标签分组

用于区分不同使用场景下的标签，在购课标签中，使用的标签分组为**`code=course`**

#### 标签类型

可拥有该标签的实体类型，在购课标签中，标签是打给用户的，因此标签类型为**`type=user`**

### 功能需求

仅包含购课过程中与标签相关内容

#### ~~标签管理~~ (这部分内容放置于官网后台标签管理处添加)

- **~~新建标签~~**: 在`课程分组`下新建`用户类型`标签。

- **~~编辑标签~~**

- **~~删除标签~~**

#### 课程绑定标签管理

- **给课程绑定标签**: 从`课程分组`中选出所有`用户类型`的标签，给课程绑定对应标签。

- **给已购课的用户批量打上标签**

- **课程绑定标签修改(包括增加和删除)**: 可以更改某个课程所绑定的标签，这里会有两种实现。
    - 一种是修改标签不影响已经参与活动的学员。(实现起来比较简单，不容易出错)
    - 另一种是修改标签的同时，对参与活动的用户标签做对应修改。(成本较高，需要做评估)

#### 活动标签应用流程

- **用户参加活动打上对应标签**: 当用户参加某个活动时，为用户打上活动所绑定的标签。

- **推送时可选择标签进行推送**: 推送时可选择按标签推送，暂时只有`活动分组`下的标签，后面可能会增加`课程分组`等标签分组下的标签。




